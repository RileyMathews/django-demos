{% load widget_tweaks %}
<form id="resourceForm" class="flex flex-col items-center gap-2 border-4 p-1 rounded-lg border-slate-900 bg-slate-200"
    hx-post="{% url 'resource-instance-edit-hx' resource.id %}" hx-swap="outerHTML">
    {% csrf_token %}
    <input type="submit" value="save"
        class="text-xs text-white border-2 border-green-600 rounded-md px-2 bg-green-500 cursor-pointer">
    <div class="flex justify-center gap-1">
        <button id="minusButton" type="button" class="text-white border-2 border-red-600 rounded-md px-2 bg-red-500">-1</button>
        {% render_field form.current_ammount class="inline w-1/4" inputmode="numeric" %}
        <button id="plusButton" type="button"
            class="text-white border-2 border-green-600 rounded-md px-2 bg-green-500">+1</button>
    </div>
    <script>
        function setupForm() {
            const idField = document.getElementById("id_current_ammount")
            const plusButton = document.getElementById("plusButton")
            const minusButton = document.getElementById("minusButton")
            setTimeout(() => {
                idField.focus()
            }, 0)
            minusButton.addEventListener("click", () => {
                let integerValue = parseInt(idField.value)
                integerValue -= 1
                idField.value = integerValue
            })
            plusButton.addEventListener("click", () => {
                let integerValue = parseInt(idField.value)
                integerValue += 1
                idField.value = integerValue
            })
        }

        setupForm();
    </script>
</form>
